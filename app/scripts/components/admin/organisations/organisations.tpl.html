<div ui-view class="gla-organisations">

  <div class="row text-center">
    <div class="col-xs-1"></div>
    <div class="col-xs-10">
      <h3>Registered Organisations</h3>
      <!--<hr>-->
    </div>
    <div class="col-xs-1"></div>
  </div>

  <div class="row row-eq-height">
    <div class="col-xs-5">
      <!--<div class="btn-group  pull-right"  uib-dropdown keyboard-nav>
        <button id="simple-btn-keyboard-nav" type="button" class="btn btn-primary" uib-dropdown-toggle>
          User registration status<span class="caret"></span>
        </button>
        <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="simple-btn-keyboard-nav">
          <li role="menuitem"><a ui-sref="admin.organisations({filter: ''})">Show All</a></li>
          <li role="menuitem"><a ui-sref="admin.organisations({filter: 'aproved'})">Approved</a></li>
          <li role="menuitem"><a ui-sref="admin.organisations({filter: 'pending'})">Pending</a></li>
        </ul>
      </div>-->
      <p class="reg-stat-label">User registration status</p>
      <dropdown
          class="reg-stat-dropdown"
          ng-model="data.dditem"
          items="data.dditems"
          callback="filter(item)">
      </dropdown>

    </div>
    <div class="col-xs-7 top-pagination">
      <div class="pull-right" ng-show="displayPagination()">
        <ul uib-pagination max-size="3" items-per-page="itemsPerPage" total-items="totalItems" ng-model="data.currentPage"
            class="pagination-sm pull-right" boundary-link-numbers="true" force-ellipses="true" ng-change="pageChanged(data.currentPage)">
        </ul>
      </div>
      <div class="pull-right pagination-summary">
        Showing <span class="start-end-index">{{indexStart}} - {{indexEnd}}</span> of {{totalItems}}
      </div>
    </div>
  </div>


  <div class="row">
    <div class="col-xs-12 org-table">

      <table st-table="org" st-safe-src="orgCollection" class="table table-hover table-bordered table-striped">
        <thead class="thead-inverse uppercase">
          <tr>
            <th ng-click="sortBy('id')">
              ID NO.
              <span class="sortorder" ng-show="sortByName === 'id'" ng-class="{reverse: sortReverse}"></span>
            </th>

            <th ng-click="sortBy('name')">
              ORG. NAME
              <span class="sortorder" ng-show="sortByName === 'name'" ng-class="{reverse: sortReverse}"></span>
            </th>

            <th ng-click="sortBy('imsNumber')">
              IMS no.
              <span class="sortorder" ng-show="sortByName === 'imsNumber'" ng-class="{reverse: sortReverse}"></span>
            </th>

            <th ng-click="sortBy('ceoName')">
              CEO name
              <span class="sortorder" ng-show="sortByName === 'ceoName'" ng-class="{reverse: sortReverse}"></span>
            </th>

            <th ng-click="sortBy('regulated')">
              REGULATED?
              <span class="sortorder" ng-show="sortByName === 'regulated'" ng-class="{reverse: sortReverse}"></span>
            </th>

            <th ng-click="sortBy('viability')">
              Viability score
              <span class="sortorder" ng-show="sortByName === 'viability'" ng-class="{reverse: sortReverse}"></span>
            </th>

            <th ng-click="sortBy('governance')">
              Gov. score
              <span class="sortorder" ng-show="sortByName === 'governance'" ng-class="{reverse: sortReverse}"></span>
            </th>

            <th ng-click="sortBy('userRegStatus')">
              User reg. status
              <span class="sortorder" ng-show="sortByName === 'userRegStatus'" ng-class="{reverse: sortReverse}"></span>
            </th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="row in org" ng-click="getDetails(row.id)">
            <td>{{row.id}}</td>
            <td>{{row.name}}</td>
            <td>{{row.imsNumber}}</td>
            <td>{{row.ceoName}}</td>
            <td>{{row.regulated ? 'Y' : 'N'}}</td>
            <td>{{row.viability}}</td>
            <td>{{row.governance}}</td>
            <td class="registration-status-{{row.userRegStatus.toLowerCase()}}">{{row.userRegStatus}}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="row">
    <div class="col-xs-12">
      <div class="pull-right" ng-show="displayPagination()">
        <ul uib-pagination max-size="3" items-per-page="itemsPerPage" total-items="totalItems" ng-model="data.currentPage"
            class="pagination-sm pull-right" boundary-link-numbers="true" force-ellipses="true" ng-change="pageChanged(data.currentPage)">
        </ul>
      </div>
      <div class="pull-right pagination-summary">
        Showing <span class="start-end-index">{{indexStart}} - {{indexEnd}}</span> of {{totalItems}}
      </div>
    </div>
  </div>

</div>
